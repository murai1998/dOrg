{"ast":null,"code":"var _jsxFileName = \"/Users/thatchampion/Desktop/Ironhack/Project4/frontend/src/components/create-exersice.js\";\nimport React, { Component } from \"react\";\nimport Navbar from \"./navbar\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"axios\";\nimport actions from \"../services/index\";\nimport CreatableSelect from \"react-select/creatable\";\nimport Select from \"react-select\";\nimport exs from \"../components/mets/mets.json\";\nimport { getWeekYearWithOptions } from \"date-fns/fp\";\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport ChangingProgressProvider from \"./changingprovider\";\nimport Circle from \"./circle\";\nimport { Link } from \"react-router-dom\";\nlet dateNow = new Date().toDateString();\nlet p = 20;\nlet options = [];\nlet options2 = [];\nlet options3 = [];\nlet arr = {};\nlet keys = Object.entries(exs);\nlet keys2 = [];\n\nclass CreateExercise extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: { ...this.props.user\n      },\n      username: this.props.user.email,\n      description: \"\",\n      description2: \"\",\n      duration: 0,\n      date: new Date(),\n      users: [],\n      list: [],\n      met: \"\",\n      custom: true,\n      selected: \"\",\n      weight: this.props.match.params.weight,\n      percentage: 0,\n      circle: false\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleDate = date => {\n      this.setState({\n        date: date\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let hours = (Number(this.state.duration) / 60).toFixed(1);\n      console.log(\"Hours\", hours);\n      let cals = (Number(this.state.met) * Number(this.state.weight) * hours).toFixed(1);\n      let percentage = (cals * 100 / this.state.actv).toFixed();\n      console.log(\"percentage\", percentage);\n      this.setState({\n        percentage: percentage,\n        circle: true\n      });\n      let exercise = { ...this.state\n      };\n      console.log(\"1\", this.state.user.email + dateNow);\n      console.log(\"2\", cals + this.state.todayAct);\n      actions.createExs(exercise).then(res => {\n        console.log(res.data);\n        actions.displayRes(this.state.user.email + dateNow, cals + this.state.todayAct).then(res => {\n          console.log(\"OUTPUT\", res);\n        });\n      }); // window.location = \"/\";\n    };\n\n    this.handleChange2 = (newValue, actionMeta) => {\n      console.group(\"Value Changed\");\n      console.log(newValue);\n      console.log(`action: ${actionMeta.action}`);\n      console.groupEnd();\n      this.setState({\n        description2: newValue.value\n      });\n    };\n\n    this.handleChange3 = (newValue, actionMeta) => {\n      console.group(\"Value Changed\");\n      console.log(newValue);\n      console.log(`action: ${actionMeta.action}`);\n      console.groupEnd();\n      this.setState({\n        description: newValue.value,\n        met: newValue.met\n      });\n    };\n\n    this.handleInputChange = (inputValue, actionMeta) => {\n      console.group(\"Input Changed\");\n      console.log(inputValue);\n      console.log(`action: ${actionMeta.action}`);\n      console.groupEnd();\n    };\n\n    this.draw = () => {\n      return /*#__PURE__*/React.createElement(Circle, {\n        percentage: p,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 12\n        }\n      });\n    };\n  }\n\n  async componentDidMount() {\n    let res = await actions.list();\n    let res2 = await actions.showActivity(this.state.user.email + dateNow); // let res2 = await axios({\n    //   method: \"GET\",\n    //   url: \"https://fitness-calculator.p.rapidapi.com/mets\",\n    //   headers: {\n    //     \"content-type\": \"application/octet-stream\",\n    //     \"x-rapidapi-host\": \"fitness-calculator.p.rapidapi.com\",\n    //     \"x-rapidapi-key\": \"e14d7b4a61mshaf4d68517150093p1d2b11jsnaa5e4d29c6bc\",\n    //     useQueryString: true\n    //   }\n    // });\n\n    this.setState({\n      list: res.data,\n      actv: res2.data[0].requiredAct.toFixed(1),\n      weight: res2.data[0].weight,\n      todayAct: res2.data[0].activity\n    });\n    console.log(\"Activity666\", res2.data[0].activity);\n  }\n\n  render() {\n    let percentage = this.state.percentage;\n    console.log(\"MET\", this.state.met);\n    console.log(\"Props\", this.props.match.params.weight);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, \"Physical activity has a large effect on total human energy expenditure, and contributes 20-30% to the body's total energy output. The amount of energy expended for different activities will vary with the intensity and type of exercise. For each person, the range for total daily energy expenditure is highly variable, it depends on many factors, including: activity level, age, gender, size, weight and body composition.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, \"One of the easiest methods for recording of the intensity of a physical activity is the Metabolic Equivalent Task (MET) method. The energy cost of many activities has been determined, usually by monitoring the oxygen consumption during the activity, to determine an average oxygen uptake per unit of time. This value is then compared to the resting oxygen uptake.\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, \"Let us help you to calculate how many calories you burn doing various physical tasks.\", \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, \"Enter your weight, then describe the duration and intensity of each activity\"), \"CreateExercise\", /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, \"Description:\"), this.state.list.map(item => {\n      options.push({\n        value: item.description,\n        label: item.description\n      });\n    }), console.log(keys), keys.filter(item => {\n      {\n        options2.push({\n          value: item[0],\n          label: item[0]\n        });\n      }\n    }), /*#__PURE__*/React.createElement(CreatableSelect, {\n      isClearable: true,\n      onChange: this.handleChange2,\n      onInputChange: this.handleInputChange,\n      options: options2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }), keys.filter(item => {\n      if (item[0] == this.state.description2) arr = item[1];\n    }), options2 = [], Object.values(arr).filter(item => {\n      {\n        options3.push({\n          value: item.specific,\n          label: item.specific,\n          met: item.MET\n        });\n      }\n    }), console.log(\"Arr\", Object.values(arr)), /*#__PURE__*/React.createElement(CreatableSelect, {\n      isClearable: true,\n      onChange: this.handleChange3,\n      onInputChange: this.handleInputChange,\n      options: options3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }), options3 = []), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, \"Duration in minutes\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"duration\",\n      required: true,\n      className: \"form-control\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.date,\n      onSelect: this.handleDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: `/circle/${this.state.percentage}/${this.state.weight}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }\n    }, \"Check your results\"));\n  }\n\n}\n\nexport default CreateExercise;","map":{"version":3,"sources":["/Users/thatchampion/Desktop/Ironhack/Project4/frontend/src/components/create-exersice.js"],"names":["React","Component","Navbar","DatePicker","axios","actions","CreatableSelect","Select","exs","getWeekYearWithOptions","CircularProgressbar","buildStyles","ChangingProgressProvider","Circle","Link","dateNow","Date","toDateString","p","options","options2","options3","arr","keys","Object","entries","keys2","CreateExercise","state","user","props","username","email","description","description2","duration","date","users","list","met","custom","selected","weight","match","params","percentage","circle","handleChange","e","setState","target","name","value","handleDate","handleSubmit","preventDefault","hours","Number","toFixed","console","log","cals","actv","exercise","todayAct","createExs","then","res","data","displayRes","handleChange2","newValue","actionMeta","group","action","groupEnd","handleChange3","handleInputChange","inputValue","draw","componentDidMount","res2","showActivity","requiredAct","activity","render","map","item","push","label","filter","values","specific","MET"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navbar from \"./navbar\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport axios from \"axios\";\nimport actions from \"../services/index\";\nimport CreatableSelect from \"react-select/creatable\";\nimport Select from \"react-select\";\nimport exs from \"../components/mets/mets.json\";\nimport { getWeekYearWithOptions } from \"date-fns/fp\";\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport ChangingProgressProvider from \"./changingprovider\";\nimport Circle from \"./circle\";\nimport { Link } from \"react-router-dom\";\nlet dateNow = new Date().toDateString();\nlet p = 20;\n\nlet options = [];\nlet options2 = [];\nlet options3 = [];\nlet arr = {};\nlet keys = Object.entries(exs);\nlet keys2 = [];\n\nclass CreateExercise extends Component {\n  state = {\n    user: { ...this.props.user },\n    username: this.props.user.email,\n    description: \"\",\n    description2: \"\",\n    duration: 0,\n    date: new Date(),\n    users: [],\n    list: [],\n    met: \"\",\n    custom: true,\n    selected: \"\",\n    weight: this.props.match.params.weight,\n    percentage: 0,\n    circle: false\n  };\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n  async componentDidMount() {\n    let res = await actions.list();\n    let res2 = await actions.showActivity(this.state.user.email + dateNow);\n    // let res2 = await axios({\n    //   method: \"GET\",\n    //   url: \"https://fitness-calculator.p.rapidapi.com/mets\",\n    //   headers: {\n    //     \"content-type\": \"application/octet-stream\",\n    //     \"x-rapidapi-host\": \"fitness-calculator.p.rapidapi.com\",\n    //     \"x-rapidapi-key\": \"e14d7b4a61mshaf4d68517150093p1d2b11jsnaa5e4d29c6bc\",\n    //     useQueryString: true\n    //   }\n    // });\n\n    this.setState({\n      list: res.data,\n      actv: res2.data[0].requiredAct.toFixed(1),\n      weight: res2.data[0].weight,\n      todayAct: res2.data[0].activity\n    });\n    console.log(\"Activity666\", res2.data[0].activity);\n  }\n  handleDate = date => {\n    this.setState({\n      date: date\n    });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    let hours = (Number(this.state.duration) / 60).toFixed(1);\n    console.log(\"Hours\", hours);\n    let cals = (\n      Number(this.state.met) *\n      Number(this.state.weight) *\n      hours\n    ).toFixed(1);\n    let percentage = ((cals * 100) / this.state.actv).toFixed();\n    console.log(\"percentage\", percentage);\n    this.setState({\n      percentage: percentage,\n      circle: true\n    });\n    let exercise = { ...this.state };\n    console.log(\"1\", this.state.user.email + dateNow);\n    console.log(\"2\", cals + this.state.todayAct);\n    actions.createExs(exercise).then(res => {\n      console.log(res.data);\n      actions\n        .displayRes(this.state.user.email + dateNow, cals + this.state.todayAct)\n        .then(res => {\n          console.log(\"OUTPUT\", res);\n        });\n    });\n\n    // window.location = \"/\";\n  };\n\n  handleChange2 = (newValue: any, actionMeta: any) => {\n    console.group(\"Value Changed\");\n    console.log(newValue);\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n    this.setState({\n      description2: newValue.value\n    });\n  };\n  handleChange3 = (newValue: any, actionMeta: any) => {\n    console.group(\"Value Changed\");\n    console.log(newValue);\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n    this.setState({\n      description: newValue.value,\n      met: newValue.met\n    });\n  };\n  handleInputChange = (inputValue: any, actionMeta: any) => {\n    console.group(\"Input Changed\");\n    console.log(inputValue);\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n  };\n  draw = () => {\n    return <Circle percentage={p} />;\n  };\n  render() {\n    let percentage = this.state.percentage;\n    console.log(\"MET\", this.state.met);\n    console.log(\"Props\", this.props.match.params.weight);\n    return (\n      <div>\n        <Navbar />\n        <p>\n          Physical activity has a large effect on total human energy\n          expenditure, and contributes 20-30% to the body's total energy output.\n          The amount of energy expended for different activities will vary with\n          the intensity and type of exercise. For each person, the range for\n          total daily energy expenditure is highly variable, it depends on many\n          factors, including: activity level, age, gender, size, weight and body\n          composition.\n        </p>\n        <p>\n          One of the easiest methods for recording of the intensity of a\n          physical activity is the Metabolic Equivalent Task (MET) method. The\n          energy cost of many activities has been determined, usually by\n          monitoring the oxygen consumption during the activity, to determine an\n          average oxygen uptake per unit of time. This value is then compared to\n          the resting oxygen uptake.\n        </p>\n        <h4>\n          Let us help you to calculate how many calories you burn doing various\n          physical tasks.{\" \"}\n        </h4>\n        <p>\n          Enter your weight, then describe the duration and intensity of each\n          activity\n        </p>\n        CreateExercise\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label>Description:</label>\n            {this.state.list.map(item => {\n              options.push({\n                value: item.description,\n                label: item.description\n              });\n            })}\n            {console.log(keys)}\n            {keys.filter(item => {\n              {\n                options2.push({\n                  value: item[0],\n                  label: item[0]\n                });\n              }\n            })}\n\n            <CreatableSelect\n              isClearable\n              onChange={this.handleChange2}\n              onInputChange={this.handleInputChange}\n              options={options2}\n            />\n\n            {keys.filter(item => {\n              if (item[0] == this.state.description2) arr = item[1];\n            })}\n            {(options2 = [])}\n\n            {Object.values(arr).filter(item => {\n              {\n                options3.push({\n                  value: item.specific,\n                  label: item.specific,\n                  met: item.MET\n                });\n              }\n            })}\n            {console.log(\"Arr\", Object.values(arr))}\n            <CreatableSelect\n              isClearable\n              onChange={this.handleChange3}\n              onInputChange={this.handleInputChange}\n              options={options3}\n            />\n            {(options3 = [])}\n          </div>\n          <div className=\"form-group\">\n            <label>Duration in minutes</label>\n            <input\n              type=\"number\"\n              name=\"duration\"\n              required\n              className=\"form-control\"\n              onChange={this.handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Date</label>\n            <div>\n              <DatePicker\n                selected={this.state.date}\n                onSelect={this.handleDate}\n              />\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <input type=\"submit\" value=\"Create\" className=\"btn btn-primary\" />\n          </div>\n        </form>\n        <Link to={`/circle/${this.state.percentage}/${this.state.weight}`}>\n          Check your results\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default CreateExercise;\n"]},"metadata":{},"sourceType":"module"}